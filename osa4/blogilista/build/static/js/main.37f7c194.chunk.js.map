{"version":3,"sources":["components/Blog.js","services/blogs.js","services/login.js","App.js","index.js"],"names":["Blog","blog","title","author","baseUrl","token","getAll","axios","get","then","response","data","create","newObject","a","config","headers","Authorization","post","setToken","newToken","login","credentials","App","useState","blogs","setBlogs","username","setUsername","password","setPassword","user","setUser","newTitle","setNewTitle","newAuthor","setNewAuthor","newUrl","setNewUrl","useEffect","blogService","loggedUserJSON","window","localStorage","getItem","JSON","parse","addBlog","event","preventDefault","blogObject","url","returnedBlog","concat","handleLogin","loginService","setItem","stringify","console","log","onSubmit","type","value","name","onChange","target","onClick","removeItem","location","reload","map","id","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.37f7c194.chunk.js","sourcesContent":["import React from 'react'\r\nconst Blog = ({blog}) => (\r\n  <div>\r\n    {blog.title} {blog.author}\r\n  </div>  \r\n)\r\n\r\nexport default Blog","import axios from 'axios'\r\nconst baseUrl = '/api/blogs'\r\n\r\nlet token = null\r\n\r\nconst setToken = newToken => {\r\n  token = `bearer ${newToken}`\r\n}\r\n\r\n\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\nconst create = async newObject => {\r\n  const config = {\r\n    headers: {Authorization: token},\r\n  }\r\n  const response = await axios.post(baseUrl, newObject, config)\r\n  return response.data\r\n}\r\n\r\n\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default { getAll, create, setToken }","import axios from \"axios\";\r\nconst baseUrl = '/api/login'\r\n\r\nconst login = async credentials => {\r\n  const response = await axios.post(baseUrl, credentials)\r\n  return response.data\r\n}\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default { login }","import React, { useState, useEffect } from 'react'\r\nimport Blog from './components/Blog'\r\nimport blogService from './services/blogs'\r\nimport loginService from './services/login'\r\n\r\nconst App = () => {\r\n  const [blogs, setBlogs] = useState([])\r\n  const [username, setUsername] = useState('')\r\n  const [password, setPassword] = useState('')\r\n  const [user, setUser] = useState(null)\r\n  const [newTitle, setNewTitle] = useState('')\r\n  const [newAuthor, setNewAuthor] = useState('')\r\n  const [newUrl, setNewUrl] = useState('')\r\n\r\n  useEffect(() => {\r\n    blogService.getAll().then(blogs =>\r\n      setBlogs( blogs )\r\n    )  \r\n  }, [])\r\n  useEffect(() => {\r\n    const loggedUserJSON = window.localStorage.getItem('loggedBloglistUser')\r\n    if (loggedUserJSON) {\r\n      const user = JSON.parse(loggedUserJSON)\r\n      setUser(user)\r\n      \r\n    }\r\n  }, [])\r\n\r\n  const addBlog = (event) => {\r\n    event.preventDefault()\r\n    const blogObject = {\r\n      title: newTitle,\r\n      author: newAuthor,\r\n      url: newUrl\r\n    }\r\n    blogService\r\n      .create(blogObject)\r\n      .then(returnedBlog => {\r\n        setBlogs(blogs.concat(returnedBlog))\r\n        setNewAuthor('')\r\n        setNewTitle('')\r\n        setNewUrl('')\r\n      })\r\n    \r\n  }\r\n\r\n  const handleLogin = async (event) => {\r\n    event.preventDefault()\r\n    try{\r\n      const user = await loginService.login({\r\n        username, password\r\n      })\r\n      window.localStorage.setItem(\r\n        'loggedBloglistUser', JSON.stringify(user)\r\n      )\r\n      blogService.setToken(user.token)\r\n      setUser(user)\r\n      setUsername('')\r\n      setPassword('')\r\n    }catch (exception) {\r\n      console.log('wrong credentials')\r\n    }\r\n  }\r\n  const loginForm = () => (\r\n    <form onSubmit={handleLogin}>\r\n      <div>\r\n        username\r\n        <input\r\n        type=\"text\"\r\n        value={username}\r\n        name=\"Username\"\r\n        onChange={ ({ target }) => setUsername(target.value)}\r\n        />\r\n      </div>\r\n      <div>\r\n        password\r\n        <input\r\n        type=\"password\"\r\n        value={password}\r\n        name=\"Password\"\r\n        onChange={ ({target}) => setPassword(target.value)}\r\n        />\r\n      </div>\r\n      <button type=\"submit\">login</button>\r\n    </form>\r\n  )\r\n  const creationForm = () => (\r\n    <form onSubmit={addBlog}>\r\n      <div>\r\n        title:\r\n        <input\r\n        type=\"text\"\r\n        value = {newTitle}\r\n        name=\"Title\"\r\n        onChange={({target}) => setNewTitle(target.value)}\r\n        />\r\n      </div>\r\n      <div>\r\n        auhtor:\r\n        <input\r\n        type=\"text\"\r\n        value={newAuthor}\r\n        name=\"Author\"\r\n        onChange={({target}) => setNewAuthor(target.value)}\r\n        />\r\n      </div>\r\n      <div>\r\n        url:\r\n        <input\r\n        type=\"text\"\r\n        value={newUrl}\r\n        name=\"Url\"\r\n        onChange={({target})=>setNewUrl(target.value)}\r\n        />\r\n      </div>\r\n      <button type=\"submit\">create</button>\r\n\r\n    </form>\r\n  )\r\n  const logOut = () => {\r\n    window.localStorage.removeItem('loggedBloglistUser')\r\n    window.location.reload(false)\r\n  }\r\n\r\n  if (user === null) {\r\n    return (\r\n      <div>\r\n        <h2>log in to application</h2>\r\n        {loginForm()}\r\n      </div>\r\n    )\r\n  }\r\n\r\n\r\n  return (\r\n    <div>\r\n      <h2>blogs</h2>\r\n      <p>\r\n        {user.name} logged in\r\n        <button onClick={logOut}>logout</button>\r\n        </p>\r\n      <h2>create new</h2>\r\n      {creationForm()}\r\n      {blogs.map(blog =>\r\n        <Blog key={blog.id} blog={blog} />\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './App'\r\n\r\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}